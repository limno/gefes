Assembly "{{assembly_title}}"
=============================

General Information
-------------------
This assembly uses the software "{{assembler_version}}" and uses a kmer size of {{kmer_size}} as well as a contig length cutoff of {{contig_cutoff}} base pairs. There are {{count_samples}} samples in this assembly, which are part of the project code `{{aggregate_short_name}}` ("{{aggregate_long_name}}").

-------

Processing
----------
This report (and all the analysis) was generated using the GEFES project at:

> <{{project_url}}>

Version `{{project_version}}` of the pipeline was used. The exact git hash of the latest commit was:

    {{git_hash}}

also more simply referred to by its shortened tag `{{git_tag}}`.

This document was generated at `{{now}}`.

A brief overview of what happens to the data can be viewed online here:

> <https://github.com/limno/gefes/blob/{{git_branch}}/documentation/flowchart.pdf?raw=true>

The results and all the files generated for this assembly can be found at:

    {{results_directory}}

-------

Contigs
-------
The first step is to take all reads from all samples and input them into the assembly algorithm. This results in the production of {{count_contigs}} contigs, of which the length distribution can be seen in figure \ref{contigs_len_dist}:

{{contigs_len_dist}}

The total amount of base pairs generated is {{contigs_total_bp}}.

Mapping
-------
We can now take every read of every sample and attempt to map them back to the set of contigs we created, such that we compute, for every contig, a mean coverage in every sample. For this we use the "{{mapping_version}}" software. A brief summary of the mapping step is included below:

{{mapping_table}}

-------

Binning
-------
The next step is to determine which of the {{count_contigs}} contigs are likely to belong together and are part of the same population or genome. For this we use the "{{binning_version}}" software. This produces exactly {{count_bins}} different bins. Since each bin contains a varying number of contigs, we can plot a distribution as seen in figure \ref{bins_contig_dist}:

{{bins_contig_dist}}

Of course, it is more interesting to look, not at the contig count, but at the total amount of nucleotides in a given bin in terms of base pair counts. This distribution can be seen in figure \ref{bins_nucleotide_dist}:

{{bins_nucleotide_dist}}

For further investigation please refer to the individual report of every bin.

-------

Evaluation
----------
Now we would like to measure the consistency or completeness of each bin. For this we use the "{{bin_eval_version}}" software.

This includes running gene prediction on the contigs and identifying marker genes. A distribution of the different metrics can be seen below in the following figures:

{{bins_eval_markers_graph}}
{{bins_eval_marker_sets_graph}}
{{bins_eval_completeness_graph}}
{{bins_eval_contamination_graph}}
{{bins_eval_heterogeneity_graph}}

We can view contamination, completeness and heterogeneity all in one graph (with heterogeneity as a color scale):

{{bins_eval_cch_graph}}

Finally, we can produce a table listing only the bins which are more than 60% complete and less than 10% contamination. Here is the list of these best bins:

{{bins_quality_table}}

